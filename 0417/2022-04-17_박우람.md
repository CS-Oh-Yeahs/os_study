# os_study 
# ğŸ“Â File System

## 1. File and File System

**âœ”ï¸Â File**

- â€œA named cllection of related informationâ€
- ì¼ë°˜ì ìœ¼ë¡œ ë¹„íœ˜ë°œì„±ì˜ ë³´ì¡°ê¸°ì–µì¥ì¹˜ì— ì €ì¥
- ìš´ì˜ì²´ì œëŠ” ë‹¤ì–‘í•œ ì €ì¥ ì¥ì¹˜ë¥¼ fileì´ë¼ëŠ” ë™ì¼í•œ ë…¼ë¦¬ì  ë‹¨ìœ„ë¡œ ë³¼ ìˆ˜ ìˆê²Œ í•´ì¤Œ
- Operation
    - create, read, wrtie reponsition (lseek), delete, open, close ë“±
    - (reponsition) íŒŒì¼ì˜ ë‚´ìš© ìœ„ì¹˜ì •ë³´ ì¬ì •ì˜

**âœ”ï¸Â File attribute ( í˜¹ì€ íŒŒì¼ì˜ metadata)**

- íŒŒì¼ ìì²´ì˜ ë‚´ìš©ì´ ì•„ë‹ˆë¼ íŒŒì¼ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê°ì¢… ì •ë³´ë“¤
    - íŒŒì¼ ì´ë¦„, ìœ í˜•, ì €ì¥ëœ ìœ„ì¹˜, íŒŒì¼ ì‚¬ì´ì¦ˆ
    - ì ‘ê·¼ ê¶Œí•œ (ì½ê¸°/ì“°ê¸°/ì‹¤í–‰), ì‹œê°„ (ìƒì„±/ë³€ê²½/ì‚¬ìš©), ì†Œìœ ì ë“±

**âœ”ï¸Â File system**

- ìš´ì˜ì²´ì œì—ì„œ íŒŒì¼ì„ ê´€ë¦¬í•˜ëŠ” ë¶€ë¶„
- íŒŒì¼ ë° íŒŒì¼ì˜ ë©”íƒ€ë°ì´í„°, ë””ë ‰í† ë¦¬ ì •ë³´ ë“±ì„ ê´€ë¦¬
- íŒŒì¼ì˜ ì €ì¥ ë°©ë²• ê²°ì •
- íŒŒì¼ ë³´í˜¸ ë“±

## 2. Directory and Logical Disk

**âœ”ï¸Â Directory** 

- íŒŒì¼ì˜ ë©”íƒ€ë°ì´í„° ì¤‘ ì¼ë¶€ë¥¼ ë³´ê´€í•˜ê³  ìˆëŠ” ì¼ì¢…ì˜ íŠ¹ë³„í•œ íŒŒì¼
- ê·¸ ë””ë ‰í† ë¦¬ì— ì†í•œ íŒŒì¼ ì´ë¦„ ë° íŒŒì¼ attributeë“¤
- operation
    - search for a file, create a
    - list a directory, rename a file, travers the file system

**âœ”ï¸Â Partition (=Logical Disk)**

- í•˜ë‚˜ì˜ (ë¬¼ë¦¬ì ) ë””ìŠ¤í¬ ì•ˆì— ì—¬ëŸ¬ íŒŒí‹°ì…˜ì„ ë‘ëŠ”ê²Œ ì¼ë°˜ì 
- ì—¬ëŸ¬ ê°œì˜ ë¬¼ë¦¬ì ì¸ ë””ìŠ¤í¬ë¥¼ í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ êµ¬ì„±í•˜ê¸°ë„ í•¨
- (ë¬¼ë¦¬ì ) ë””ìŠ¤í¬ë¥¼ íŒŒí‹°ì…˜ìœ¼ë¡œ êµ¬ì„±í•œ ë’¤ ê°ê°ì— íŒŒí‹°ì…˜ì— file systemì„ ê¹”ê±°ë‚˜ swappingë“± ë‹¤ë¥¸ ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

## 3. File Operation

> íŒŒì¼ì— ëŒ€í•œ ì—°ì‚°ì€ ëª¨ë‘ **system call**
> 

**âœ”ï¸Â open(â€/a/b/câ€)** 

- ë””ìŠ¤í¬ë¡œë¶€í„° íŒŒì¼ cì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ë¡œ ê°€ì§€ê³  ì˜´
- ì´ë¥¼ ìœ„í•˜ì—¬ directory path ë¥¼ search
    - ë£¨íŠ¸ ë””ë ‰í† ë¦¬ â€œ/â€ë¥¼ opení•˜ê³  ê·¸ ì•ˆì—ì„œ íŒŒì¼(ë””ë ‰í† ë¦¬) â€œaâ€ì˜ ìœ„ì¹˜ íšë“
    - íŒŒì¼ â€œaâ€ë¥¼ opení•˜ê³  ê·¸ ì•ˆì—ì„œ íŒŒì¼(ë””ë ‰í† ë¦¬) â€œbâ€ì˜ ìœ„ì¹˜ íšë“
    - íŒŒì¼ â€œbâ€ë¥¼ opení•˜ê³  ê·¸ ì•ˆì—ì„œ íŒŒì¼(ë””ë ‰í† ë¦¬ ì¼ìˆ˜ë„ ìˆìŒ) â€œcâ€ì˜ ìœ„ì¹˜ íšë“
    - íŒŒì¼ â€œcâ€ë¥¼ opení•œë‹¤.
- íŒŒì¼ì˜ ê²½ë¡œê°€ ê¸¸ì–´ì§ˆ  ê²½ìš° Directory pathì˜ searchì— ë„ˆë¬´ ë§ì€ ì‹œê°„ì´ ì†Œìš” ë¨
    - Openì„ read / writeì™€ ë³„ë„ë¡œ ë‘ëŠ” ì´ìœ ì„
    - í•œë²ˆ opení•œ íŒŒì¼ì€ read / write ì‹œ directory search ë¶ˆí•„ìš”
- Open file table
    - í˜„ì¬ open ëœ íŒŒì¼ë“¤ì˜ ë©”íƒ€ë°ì´í„° ë³´ê´€ì†Œ (in memory)
        - íŒŒì¼ì„ ì˜¤í”ˆí•˜ë©´ í•´ë‹¹ ë©”íƒ€ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ì €ì¥ë¨
    - ë””ìŠ¤í¬ì˜ ë©”íƒ€ë°ì´í„°ë³´ë‹¤ ëª‡ ê°€ì§€ ì •ë³´ê°€ ì¶”ê°€
        - Opení•œ í”„ë¡œì„¸ìŠ¤ì˜ ìˆ˜
        - File offset: íŒŒì¼ ì–´ëŠ ìœ„ì¹˜ ì ‘ê·¼ ì¤‘ì¸ì§€ í‘œì‹œ (ë³„ë„ í…Œì´ë¸” í•„ìš”)
- File descriptor (file handle, file control block)
    - Open file tableì— ëŒ€í•œ ìœ„ì¹˜ ì •ë³´ (í”„ë¡œì„¸ìŠ¤ ë³„)

![image](https://user-images.githubusercontent.com/56028408/163709425-13892b98-3a26-4ac6-b48d-40e9c55fdf61.png)

1. í”„ë¡œì„¸ìŠ¤ Aê°€ open(â€/a/bâ€)ë¥¼ í˜¸ì¶œí•œë‹¤. (system call)
2. ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì˜ ë©”íƒ€ë°ì´í„° ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— í• ë‹¹í•œë‹¤.
3. ë£¨ë“œ ë””ë ‰í† ë¦¬ì˜ ë©”íƒ€ë°ì´í„° ì •ë³´ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ëœ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì˜ ì‹¤ì œ ë‚´ìš©ì„ ê²€ìƒ‰í•œë‹¤ (ë£¨íŠ¸ ë””ë ‰í† ë¦¬ í•˜ìœ„ì˜ íŒŒì¼ë“¤ ë©”íƒ€ ë°ì´í„°)
4. ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ì»¨í…ì¸ ì— íŒŒì¼ Aì˜ ì •ë³´ê°€ ì¡´ì¬í•œë‹¤. AëŠ” ì‚¬ìš©ì í”„ë¡œê·¸ë¨ì´ í˜¸ì¶œí•œ íŒŒì¼ì˜ ê²½ë¡œì— í¬í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— Aì˜ ë©”íƒ€ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— í• ë‹¹í•œë‹¤.
5. Aì˜ ë©”íƒ€ë°ì´í„° ì •ë³´ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ëœ Aì˜ ì»¨í…ì¸  ìœ„ì¹˜ë¥¼ ì°¾ëŠ”ë‹¤.
6. Aì˜ ì»¨í…ì¸ ì— ì €ì¥ëœ Bì˜ ë©”íƒ€ë°ì´í„° ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— í• ë‹¹í•œë‹¤.
7. open() System callì˜ ê²°ê³¼ê°’ì„ ì‚¬ìš©ì í”„ë¡œê·¸ë¨ì—ê²Œ ì „ë‹¬í•œë‹¤ (íŒŒì¼ bì˜ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë””ìŠ¤í¬ë¦½í„°ë¥¼ ë¦¬í„´í•¨)
8.  read(fd) = open()ì—ì„œ ë¦¬í„´ëœ ë””ìŠ¤í¬ë¦½í„°ì™€ ì½ì„ ë²”ìœ„ë¥¼ ì§€ì •í•˜ë©´ íŒŒì¼ì„ ë³µì‚¬í•˜ê³  ë©”ëª¨ë¦¬ì— ì €ì¥í•œ ë’¤(ë²„í¼ ìºì‹±) í”„ë¡œê·¸ë¨ì—ê²Œ ì „ë‹¬í•œë‹¤. (ë²”ìœ„ë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ì²˜ìŒë¶€í„° íŒŒì¼ì„ ì½ìŒ) 

## 4. File Protection

ê° íŒŒì¼ì— ëŒ€í•´ ëˆ„êµ¬ì—ê²Œ ì–´ë–¤ ìœ í˜•ì˜ ì ‘ê·¼(read/write/execution)ì„ í—ˆë½í•  ê²ƒì¸ê°€?

**âœ”ï¸Â Acess Control ë°©ë²•**

![image](https://user-images.githubusercontent.com/56028408/163709444-385795da-ff5d-4c34-aae0-682f916c39a3.png)


- Acess Control list: íŒŒì¼ë³„ë¡œ ëˆ„êµ¬ì—ê²Œ ì–´ë–¤ ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ”ì§€ë¥¼ í‘œì‹œí•œë‹¤. ì—°ê²° ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.
- Capabiliy: ì‚¬ìš©ìë³„ë¡œ ìì‹ ì´ ì ‘ê·¼ ê¶Œí•œì„ ê°€ì§„ íŒŒì¼ ë° í•´ë‹¹ ê¶Œí•œì„ í‘œì‹œí•œë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ì—°ê²° ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.

**âœ”ï¸Â Grouping**

- ì „ì²´ userë¥¼ owner, group, publicì˜ ì„¸ ê·¸ë£¹ìœ¼ë¡œ êµ¬ë¶„
- ì¼ë°˜ì ìœ¼ë¡œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” í˜•ì‹
- ê° íŒŒì¼ì— ëŒ€í•´ ì„¸ ê·¸ë£¹ì˜ ì ‘ê·¼ ê¶Œí•œ(rwx)ë¥¼ 3ë¹„íŠ¸ì”©ìœ¼ë¡œ í‘œì‹œ
- (ì˜ˆ) UNIX
    - rwx(owner) râ€”(group) râ€”(other)
        - ownerëŠ” ëª¨ë“  ê¶Œí•œì´ ë¶€ì—¬ë˜ì–´ìˆê³  groupê³¼ publicì€ ì½ê¸° ê¶Œí•œë§Œ ë¶€ì—¬ëœ ìƒíƒœì´ë‹¤.

**âœ”ï¸Â Password**

- íŒŒì¼ë§ˆë‹¤ passwordë¥¼ ë‘ëŠ” ë°©ë²• (ë””ë ‰í† ë¦¬ íŒŒì¼ì— ë‘ëŠ” ë°©ë²•ë„ ê°€ëŠ¥)
- ëª¨ë“  ì ‘ê·¼ ê¶Œí•œì— ëŒ€í•´ í•˜ë‚˜ì˜ password: all-or-nothing
- ì ‘ê·¼ ê¶Œí•œë³„ password: ì•”ê¸° ë¬¸ì œ, ê´€ë¦¬ ë¬¸ì œ

## 5.File Systemì˜ Mounting

> ì•ì—ì„œ í•˜ë‚˜ì˜ ë¬¼ë¦¬ì  ë””ìŠ¤í¬ë¥¼ íŒŒí‹°ì…˜ìœ¼ë¡œ ë‚˜ëˆ  ì—¬ëŸ¬ê°œì˜ ë…¼ë¦¬ì  ë””ìŠ¤í¬ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  ì„¤ëª…í–ˆë‹¤. ê°ê°ì˜ ë…¼ë¦¬ì  ë””ìŠ¤í¬ì—ëŠ” íŒŒì¼ ì‹œìŠ¤í…œì„ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ”ë°, ì„œë¡œ ë‹¤ë¥¸ ë…¼ë¦¬ì  ë””ìŠ¤í¬ì— ì¡´ì¬í•˜ëŠ” íŒŒì¼ ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? ë‹¤ë¥¸ íŒŒí‹°ì…˜ì— ì¡´ì¬í•˜ëŠ” íŒŒì¼ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ê²Œ í•´ì£¼ëŠ” **Mounting** ê¸°ë²•ì´ ì¡´ì¬í•œë‹¤. **Mouting** ê¸°ë²•ì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ì
> 

![image](https://user-images.githubusercontent.com/56028408/163709447-72ad6d1c-9e97-4d2d-b7a0-5971fe8a501e.png)


root file system â†’ mount it â†’ other file system

## 6. Access Methods

âœ”ï¸Â  ì‹œìŠ¤í…œì´ ì œê³µí•˜ëŠ” íŒŒì¼ ì •ë³´ì˜ ì ‘ê·¼ ë°©ì‹

- ìˆœì°¨ ì ‘ê·¼ (sequential access)
    - ì¹´ì„¸íŠ¸ í…Œì´í”„ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì²˜ëŸ¼ ì ‘ê·¼
    - ì½ê±°ë‚˜ ì“°ë©´ offsetì€ ìë™ì ìœ¼ë¡œ ì¦ê°€
- ì§ì ‘ ì ‘ê·¼ (direct access, random access)
    - LP ë ˆì½”ë“œ íŒê³¼ ê°™ì´ ì ‘ê·¼í•˜ë„ë¡ í•¨
    - íŒŒì¼ì„ êµ¬ì„±í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì„ì˜ì˜ ìˆœì„œë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŒ


